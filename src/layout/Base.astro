---
const { user } = Astro.locals;
---

<nav class="border-b bg-white border-zinc-200">
  <div class="flex items-baseline justify-end sm:justify-between p-4 max-w-screen-xl mx-auto">
    <a href="/" class="hidden sm:block font-semibold text-black">
      Entrenamiento STP
    </a>
    <div>
      <ul class="font-medium flex items-baseline gap-8">
        <li>
          <a href="/dashboard" class="block text-black">Academy</a>
        </li>
        {user && (
          <li>
            <p>{user.user_metadata.name.split(' ')[0]}</p>
          </li>
        )}
        <li>
          {user ? (
            <a
              href="/api/auth/signout"
              class="mb-10 bg-black text-white px-3 py-1 rounded-md"
            >Sign out</a>
          ) : (
            <a href="/signin" class="block text-black">Sign In</a>
          )}
        </li>
      </ul>
    </div>
  </div>
</nav>

<main class="min-h-screen">
  <slot />
</main>
